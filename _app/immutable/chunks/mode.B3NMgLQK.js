import{v as b,Z as I,am as G,an as R,ao as U,q as Y}from"./utils.DvJmTRYk.js";import{g as Z,j as H,k as V,l as J,m as W,n as X,o as $}from"./disclose-version.BfDOllNI.js";import{g as S,d as D,w as h}from"./index.DoPX5HW5.js";function ge(e){if(b){var t=!1,s=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;k(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;k(e,"checked",null),e.checked=r}}};e.__on_r=s,G(s),Z()}}function k(e,t,s,n){var r=e.__attributes??(e.__attributes={});b&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=s)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[U]=s),s==null?e.removeAttribute(t):typeof s!="string"&&O(e).includes(t)?e[t]=s:e.setAttribute(t,s))}function ve(e,t,s,n,r=!1,i=!1,c=!1){var o=t||{},l=e.tagName==="OPTION";for(var d in t)d in s||(s[d]=null);var _=O(e),m=e.__attributes??(e.__attributes={}),y=[];for(const a in s){let u=s[a];if(l&&a==="value"&&u==null){e.value=e.__value="",o[a]=u;continue}var L=o[a];if(u!==L){o[a]=u;var M=a[0]+a[1];if(M!=="$$"){if(M==="on"){const w={},p="$$"+a;let f=a.slice(2);var A=$(f);if(H(f)&&(f=f.slice(0,-7),w.capture=!0),!A&&L){if(u!=null)continue;e.removeEventListener(f,o[p],w),o[p]=null}if(u!=null)if(A)e[`__${f}`]=u,J([f]);else{let T=function(Q){o[a].call(this,Q)};t?o[p]=V(f,e,T,w):y.push([a,u,()=>o[p]=V(f,e,T,w)])}}else if(a==="style"&&u!=null)e.style.cssText=u+"";else if(a==="autofocus")W(e,!!u);else if(a==="__value"||a==="value"&&u!=null)e.value=e[a]=e.__value=u;else{var g=a;r||(g=X(g)),u==null&&!i?(m[a]=null,e.removeAttribute(a)):_.includes(g)&&(i||typeof u!="string")?e[g]=u:typeof u!="function"&&(b&&(g==="src"||g==="href"||g==="srcset")||k(e,g,u))}a==="style"&&"__styles"in e&&(e.__styles={})}}}return t||Y(()=>{if(e.isConnected)for(const[a,u,w]of y)o[a]===u&&w()}),o}var q=new Map;function O(e){var t=q.get(e.nodeName);if(t)return t;q.set(e.nodeName,t=[]);for(var s,n=I(e),r=Element.prototype;r!==n;){s=R(n);for(var i in s)s[i].set&&t.push(i);n=I(n)}return t}let N,z;function B(e){if(typeof document>"u")return;clearTimeout(N),clearTimeout(z);const t=document.createElement("style"),s=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);t.appendChild(s);const n=()=>document.head.appendChild(t),r=()=>document.head.removeChild(t);if(typeof window.getComputedStyle<"u"){n(),e(),window.getComputedStyle(t).opacity,r();return}if(typeof window.requestAnimationFrame<"u"){n(),e(),window.requestAnimationFrame(r);return}n(),N=window.setTimeout(()=>{e(),z=window.setTimeout(r,120)},120)}function K(e){return e.filter(t=>t.length>0)}const P={getItem:e=>null,setItem:(e,t)=>{}},v=typeof document<"u",x=["dark","light","system"],ee=h("mode-watcher-mode"),te=h("mode-watcher-theme"),E=ae(),se=ue(),ne=h(void 0),j=ce(),F=h(!0),oe=h([]),re=h([]),ie=le(),_e=de();function ae(){const e="system",t=v?localStorage:P,s=t.getItem(r());let n=C(s)?s:e;function r(){return S(ee)}const{subscribe:i,set:c}=h(n,()=>{if(!v)return;const l=d=>{if(d.key!==r())return;const _=d.newValue;C(_)?c(n=_):c(n=e)};return addEventListener("storage",l),()=>removeEventListener("storage",l)});function o(l){c(n=l),t.setItem(r(),n)}return{subscribe:i,set:o}}function ce(){const e=v?localStorage:P,t=e.getItem(n());let s=t??"";function n(){return S(te)}const{subscribe:r,set:i}=h(s,()=>{if(!v)return;const o=l=>{if(l.key!==n())return;const d=l.newValue;i(d===null?s="":s=d)};return addEventListener("storage",o),()=>removeEventListener("storage",o)});function c(o){i(s=o),e.setItem(n(),s)}return{subscribe:r,set:c}}function ue(){let t=!0;const{subscribe:s,set:n}=h(void 0,()=>{if(!v)return;const c=l=>{t&&n(l.matches?"light":"dark")},o=window.matchMedia("(prefers-color-scheme: light)");return o.addEventListener("change",c),()=>o.removeEventListener("change",c)});function r(){if(!v)return;const c=window.matchMedia("(prefers-color-scheme: light)");n(c.matches?"light":"dark")}function i(c){t=c}return{subscribe:s,query:r,tracking:i}}function le(){const{subscribe:e}=D([E,se,ne,F,oe,re],([t,s,n,r,i,c])=>{if(!v)return;const o=t==="system"?s:t,l=K(i),d=K(c);function _(){const m=document.documentElement,y=document.querySelector('meta[name="theme-color"]');o==="light"?(l.length&&m.classList.remove(...l),d.length&&m.classList.add(...d),m.style.colorScheme="light",y&&n&&y.setAttribute("content",n.light)):(d.length&&m.classList.remove(...d),l.length&&m.classList.add(...l),m.style.colorScheme="dark",y&&n&&y.setAttribute("content",n.dark))}return r?B(_):_(),o});return{subscribe:e}}function de(){const{subscribe:e}=D([j,F],([t,s])=>{if(!v)return;function n(){document.documentElement.setAttribute("data-theme",t)}return s?B(n):n(),t});return{subscribe:e}}function C(e){return typeof e!="string"?!1:x.includes(e)}function ye(){E.set(S(ie)==="dark"?"light":"dark")}function we(e){E.set(e)}function pe(e){j.set(e)}function ke(e){return e}function be({defaultMode:e,themeColors:t,darkClassNames:s=["dark"],lightClassNames:n=[],defaultTheme:r=""}){const i=document.documentElement,c=localStorage.getItem("mode-watcher-mode")||e,o=localStorage.getItem("mode-watcher-theme")||r,l=c==="light"||c==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(l?(s.length&&i.classList.remove(...s),n.length&&i.classList.add(...n)):(n.length&&i.classList.remove(...n),s.length&&i.classList.add(...s)),i.style.colorScheme=l?"light":"dark",t){const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",c==="light"?t.light:t.dark)}o&&(i.setAttribute("data-theme",o),localStorage.setItem("mode-watcher-theme",o)),localStorage.setItem("mode-watcher-mode",c)}export{ie as a,_e as b,we as c,ke as d,pe as e,k as f,be as g,F as h,C as i,ne as j,oe as k,re as l,ee as m,ve as n,ye as o,ge as r,se as s,te as t};
