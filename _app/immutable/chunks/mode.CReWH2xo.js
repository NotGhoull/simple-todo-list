import{$ as j,a4 as G,p as U,z as Y,am as Z,v as b,d as $,Z as A,aq as H,ar as J,as as W,q as X}from"./utils.D2fzdj_T.js";import{l as x,m as ee,n as M,o as te,p as se,q as ne,u as re}from"./disclose-version.5BJ_ED6n.js";import{g as C,d as K,w as h}from"./index.DoMTk20T.js";function we(e,t,...s){var n=e,r=Y,o;j(()=>{r!==(r=t())&&(o&&(Z(o),o=null),o=U(()=>r(n,...s)))},G),b&&(n=$)}function be(e){if(b){var t=!1,s=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;k(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;k(e,"checked",null),e.checked=r}}};e.__on_r=s,H(s),x()}}function k(e,t,s,n){var r=e.__attributes??(e.__attributes={});b&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=s)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[W]=s),s==null?e.removeAttribute(t):typeof s!="string"&&D(e).includes(t)?e[t]=s:e.setAttribute(t,s))}function ke(e,t,s,n,r=!1,o=!1,c=!1){var i=t||{},l=e.tagName==="OPTION";for(var d in t)d in s||(s[d]=null);var _=D(e),m=e.__attributes??(e.__attributes={}),y=[];for(const a in s){let u=s[a];if(l&&a==="value"&&u==null){e.value=e.__value="",i[a]=u;continue}var S=i[a];if(u!==S){i[a]=u;var E=a[0]+a[1];if(E!=="$$"){if(E==="on"){const p={},w="$$"+a;let f=a.slice(2);var L=re(f);if(ee(f)&&(f=f.slice(0,-7),p.capture=!0),!L&&S){if(u!=null)continue;e.removeEventListener(f,i[w],p),i[w]=null}if(u!=null)if(L)e[`__${f}`]=u,te([f]);else{let T=function(Q){i[a].call(this,Q)};t?i[w]=M(f,e,T,p):y.push([a,u,()=>i[w]=M(f,e,T,p)])}}else if(a==="style"&&u!=null)e.style.cssText=u+"";else if(a==="autofocus")se(e,!!u);else if(a==="__value"||a==="value"&&u!=null)e.value=e[a]=e.__value=u;else{var g=a;r||(g=ne(g)),u==null&&!o?(m[a]=null,e.removeAttribute(a)):_.includes(g)&&(o||typeof u!="string")?e[g]=u:typeof u!="function"&&(b&&(g==="src"||g==="href"||g==="srcset")||k(e,g,u))}a==="style"&&"__styles"in e&&(e.__styles={})}}}return t||X(()=>{if(e.isConnected)for(const[a,u,p]of y)i[a]===u&&p()}),i}var I=new Map;function D(e){var t=I.get(e.nodeName);if(t)return t;I.set(e.nodeName,t=[]);for(var s,n=A(e),r=Element.prototype;r!==n;){s=J(n);for(var o in s)s[o].set&&t.push(o);n=A(n)}return t}let q,V;function F(e){if(typeof document>"u")return;clearTimeout(q),clearTimeout(V);const t=document.createElement("style"),s=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);t.appendChild(s);const n=()=>document.head.appendChild(t),r=()=>document.head.removeChild(t);if(typeof window.getComputedStyle<"u"){n(),e(),window.getComputedStyle(t).opacity,r();return}if(typeof window.requestAnimationFrame<"u"){n(),e(),window.requestAnimationFrame(r);return}n(),q=window.setTimeout(()=>{e(),V=window.setTimeout(r,120)},120)}function N(e){return e.filter(t=>t.length>0)}const O={getItem:e=>null,setItem:(e,t)=>{}},v=typeof document<"u",oe=["dark","light","system"],ie=h("mode-watcher-mode"),ae=h("mode-watcher-theme"),P=fe(),ce=me(),ue=h(void 0),B=he(),R=h(!0),le=h([]),de=h([]),Se=ge(),Ee=ve();function fe(){const e="system",t=v?localStorage:O,s=t.getItem(r());let n=z(s)?s:e;function r(){return C(ie)}const{subscribe:o,set:c}=h(n,()=>{if(!v)return;const l=d=>{if(d.key!==r())return;const _=d.newValue;z(_)?c(n=_):c(n=e)};return addEventListener("storage",l),()=>removeEventListener("storage",l)});function i(l){c(n=l),t.setItem(r(),n)}return{subscribe:o,set:i}}function he(){const e=v?localStorage:O,t=e.getItem(n());let s=t??"";function n(){return C(ae)}const{subscribe:r,set:o}=h(s,()=>{if(!v)return;const i=l=>{if(l.key!==n())return;const d=l.newValue;o(d===null?s="":s=d)};return addEventListener("storage",i),()=>removeEventListener("storage",i)});function c(i){o(s=i),e.setItem(n(),s)}return{subscribe:r,set:c}}function me(){let t=!0;const{subscribe:s,set:n}=h(void 0,()=>{if(!v)return;const c=l=>{t&&n(l.matches?"light":"dark")},i=window.matchMedia("(prefers-color-scheme: light)");return i.addEventListener("change",c),()=>i.removeEventListener("change",c)});function r(){if(!v)return;const c=window.matchMedia("(prefers-color-scheme: light)");n(c.matches?"light":"dark")}function o(c){t=c}return{subscribe:s,query:r,tracking:o}}function ge(){const{subscribe:e}=K([P,ce,ue,R,le,de],([t,s,n,r,o,c])=>{if(!v)return;const i=t==="system"?s:t,l=N(o),d=N(c);function _(){const m=document.documentElement,y=document.querySelector('meta[name="theme-color"]');i==="light"?(l.length&&m.classList.remove(...l),d.length&&m.classList.add(...d),m.style.colorScheme="light",y&&n&&y.setAttribute("content",n.light)):(d.length&&m.classList.remove(...d),l.length&&m.classList.add(...l),m.style.colorScheme="dark",y&&n&&y.setAttribute("content",n.dark))}return r?F(_):_(),i});return{subscribe:e}}function ve(){const{subscribe:e}=K([B,R],([t,s])=>{if(!v)return;function n(){document.documentElement.setAttribute("data-theme",t)}return s?F(n):n(),t});return{subscribe:e}}function z(e){return typeof e!="string"?!1:oe.includes(e)}function Le(e){P.set(e)}function Te(e){B.set(e)}function Ae(e){return e}function Me({defaultMode:e,themeColors:t,darkClassNames:s=["dark"],lightClassNames:n=[],defaultTheme:r=""}){const o=document.documentElement,c=localStorage.getItem("mode-watcher-mode")||e,i=localStorage.getItem("mode-watcher-theme")||r,l=c==="light"||c==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(l?(s.length&&o.classList.remove(...s),n.length&&o.classList.add(...n)):(n.length&&o.classList.remove(...n),s.length&&o.classList.add(...s)),o.style.colorScheme=l?"light":"dark",t){const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",c==="light"?t.light:t.dark)}i&&(o.setAttribute("data-theme",i),localStorage.setItem("mode-watcher-theme",i)),localStorage.setItem("mode-watcher-mode",c)}export{Se as a,Ee as b,Le as c,Ae as d,Te as e,k as f,Me as g,R as h,z as i,ue as j,le as k,de as l,ie as m,we as n,ke as o,be as r,ce as s,ae as t};
